In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:107:31: warning: 'Uint32Value' is deprecated [-Wdeprecated-declarations]
      ? optionsObj->Get(opt)->Uint32Value()
                              ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2477:3: note: 'Uint32Value' has been explicitly marked deprecated here
  V8_DEPRECATED("Use maybe version", uint32_t Uint32Value() const);
  ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8config.h:327:29: note: expanded from macro 'V8_DEPRECATED'
  declarator __attribute__((deprecated))
                            ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:120:25: error: redefinition of '_NanEnsureLocal'
NAN_INLINE v8::Local<T> _NanEnsureLocal(v8::Local<T> val) {
                        ^
../../nan/nan.h:115:25: note: previous definition is here
NAN_INLINE v8::Local<T> _NanEnsureLocal(v8::Handle<T> val) {
                        ^
../../nan/nan.h:207:68: error: too many arguments to function call, expected at most 2, have 4
    return v8::Signature::New(v8::Isolate::GetCurrent(), receiver, argc, argv);
           ~~~~~~~~~~~~~~~~~~                                      ^~~~~~~~~~
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:6137:3: note: 'New' declared here
  static Local<Signature> New(
  ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:262:32: error: no member named 'CompileUnbound' in 'v8::ScriptCompiler'
    return v8::ScriptCompiler::CompileUnbound(
           ~~~~~~~~~~~~~~~~~~~~^
../../nan/nan.h:271:32: error: no member named 'CompileUnbound' in 'v8::ScriptCompiler'
    return v8::ScriptCompiler::CompileUnbound(
           ~~~~~~~~~~~~~~~~~~~~^
../../nan/nan.h:277:40: error: too few arguments to function call, expected 2, have 1
    return v8::BooleanObject::New(value).As<v8::BooleanObject>();
           ~~~~~~~~~~~~~~~~~~~~~~      ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:5035:3: note: 'New' declared here
  static Local<Value> New(Isolate* isolate, bool value);
  ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:277:62: error: expected '(' for function-style cast or type construction
    return v8::BooleanObject::New(value).As<v8::BooleanObject>();
                                            ~~~~~~~~~~~~~~~~~^
../../nan/nan.h:277:64: error: expected expression
    return v8::BooleanObject::New(value).As<v8::BooleanObject>();
                                                               ^
../../nan/nan.h:289:3: error: redefinition of 'NanNew'
  NanNew<v8::StringObject, v8::Handle<v8::String> >(
  ^
../../nan/nan.h:282:3: note: previous definition is here
  NanNew<v8::StringObject, v8::Local<v8::String> >(
  ^
../../nan/nan.h:303:24: warning: 'New' is deprecated [-Wdeprecated-declarations]
    return v8::RegExp::New(pattern, flags);
                       ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:5109:10: note: 'New' has been explicitly marked deprecated here
  static V8_DEPRECATED("Use maybe version",
         ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8config.h:327:29: note: expanded from macro 'V8_DEPRECATED'
  declarator __attribute__((deprecated))
                            ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:307:36: error: redefinition of 'NanNew'
  NAN_INLINE v8::Local<v8::RegExp> NanNew(
                                   ^
../../nan/nan.h:301:36: note: previous definition is here
  NAN_INLINE v8::Local<v8::RegExp> NanNew(
                                   ^
../../nan/nan.h:309:24: warning: 'New' is deprecated [-Wdeprecated-declarations]
    return v8::RegExp::New(pattern, flags);
                       ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:5109:10: note: 'New' has been explicitly marked deprecated here
  static V8_DEPRECATED("Use maybe version",
         ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8config.h:327:29: note: expanded from macro 'V8_DEPRECATED'
  declarator __attribute__((deprecated))
                            ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:315:24: warning: 'New' is deprecated [-Wdeprecated-declarations]
    return v8::RegExp::New(pattern, flags);
                       ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:5109:10: note: 'New' has been explicitly marked deprecated here
  static V8_DEPRECATED("Use maybe version",
         ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8config.h:327:29: note: expanded from macro 'V8_DEPRECATED'
  declarator __attribute__((deprecated))
                            ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:319:36: error: redefinition of 'NanNew'
  NAN_INLINE v8::Local<v8::RegExp> NanNew(
                                   ^
../../nan/nan.h:313:36: note: previous definition is here
  NAN_INLINE v8::Local<v8::RegExp> NanNew(
                                   ^
../../nan/nan.h:321:24: warning: 'New' is deprecated [-Wdeprecated-declarations]
    return v8::RegExp::New(pattern, flags);
                       ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:5109:10: note: 'New' has been explicitly marked deprecated here
  static V8_DEPRECATED("Use maybe version",
         ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8config.h:327:29: note: expanded from macro 'V8_DEPRECATED'
  declarator __attribute__((deprecated))
                            ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:327:51: error: too few arguments to function call, single argument 'context' was not specified
        v8::Isolate::GetCurrent(), val)->ToUint32();
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2435:3: note: 'ToUint32' declared here
  V8_WARN_UNUSED_RESULT MaybeLocal<Uint32> ToUint32(
  ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8config.h:416:31: note: expanded from macro 'V8_WARN_UNUSED_RESULT'
#define V8_WARN_UNUSED_RESULT __attribute__((warn_unused_result))
                              ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:333:51: error: too few arguments to function call, single argument 'context' was not specified
        v8::Isolate::GetCurrent(), val)->ToUint32();
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2435:3: note: 'ToUint32' declared here
  V8_WARN_UNUSED_RESULT MaybeLocal<Uint32> ToUint32(
  ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8config.h:416:31: note: expanded from macro 'V8_WARN_UNUSED_RESULT'
#define V8_WARN_UNUSED_RESULT __attribute__((warn_unused_result))
                              ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:338:60: error: no matching member function for call to 'ToInt32'
    return v8::Int32::New(v8::Isolate::GetCurrent(), val)->ToInt32();
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2437:43: note: candidate function not viable: requires single argument 'context', but no arguments were provided
  V8_WARN_UNUSED_RESULT MaybeLocal<Int32> ToInt32(Local<Context> context) const;
                                          ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2450:30: note: candidate function not viable: requires single argument 'isolate', but no arguments were provided
                Local<Int32> ToInt32(Isolate* isolate) const);
                             ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:343:60: error: no matching member function for call to 'ToInt32'
    return v8::Int32::New(v8::Isolate::GetCurrent(), val)->ToInt32();
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2437:43: note: candidate function not viable: requires single argument 'context', but no arguments were provided
  V8_WARN_UNUSED_RESULT MaybeLocal<Int32> ToInt32(Local<Context> context) const;
                                          ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2450:30: note: candidate function not viable: requires single argument 'isolate', but no arguments were provided
                Local<Int32> ToInt32(Isolate* isolate) const);
                             ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:391:9: error: cannot initialize a parameter of type 'v8::NewStringType' with an rvalue of type 'v8::String::NewStringType'
      , v8::String::kNormalString
        ^~~~~~~~~~~~~~~~~~~~~~~~~
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2803:64: note: passing argument to parameter 'type' here
      Isolate* isolate, const uint8_t* data, v8::NewStringType type,
                                                               ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:402:9: error: cannot initialize a parameter of type 'v8::NewStringType' with an rvalue of type 'v8::String::NewStringType'
      , v8::String::kNormalString
        ^~~~~~~~~~~~~~~~~~~~~~~~~
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2803:64: note: passing argument to parameter 'type' here
      Isolate* isolate, const uint8_t* data, v8::NewStringType type,
                                                               ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:408:69: error: too few arguments to function call, expected at least 3, have 2
    return v8::String::NewFromOneByte(v8::Isolate::GetCurrent(), arg);
           ~~~~~~~~~~~~~~~~~~~~~~~~~~                               ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2802:3: note: 'NewFromOneByte' declared here
  static V8_WARN_UNUSED_RESULT MaybeLocal<String> NewFromOneByte(
  ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:414:69: error: too few arguments to function call, expected at least 3, have 2
    return v8::String::NewFromOneByte(v8::Isolate::GetCurrent(), arg);
           ~~~~~~~~~~~~~~~~~~~~~~~~~~                               ^
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2802:3: note: 'NewFromOneByte' declared here
  static V8_WARN_UNUSED_RESULT MaybeLocal<String> NewFromOneByte(
  ^
In file included from ../src/bufferutil.cc:15:
../../nan/nan.h:500:63: error: cannot initialize a parameter of type 'v8::String::ExternalOneByteStringResource *' with an lvalue of type 'v8::String::ExternalStringResource *'
    return v8::String::NewExternal(v8::Isolate::GetCurrent(), resource);
                                                              ^~~~~~~~
/Users/monsterooo/Library/Caches/node-gyp/10.18.0/include/node/v8.h:2862:64: note: passing argument to parameter 'resource' here
                                ExternalOneByteStringResource* resource));
                                                               ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
5 warnings and 20 errors generated.
make: *** [Release/obj.target/bufferutil/src/bufferutil.o] Error 1
gyp ERR! build error 
gyp ERR! stack Error: `make` failed with exit code: 2
gyp ERR! stack     at ChildProcess.onExit (/usr/local/Cellar/node@10/10.18.0/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:191:23)
gyp ERR! stack     at ChildProcess.emit (events.js:198:13)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:248:12)
gyp ERR! System Darwin 18.0.0
gyp ERR! command "/usr/local/Cellar/node@10/10.18.0/bin/node" "/usr/local/Cellar/node@10/10.18.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /Users/monsterooo/Desktop/git/ot/node_modules/ws
gyp ERR! node -v v10.18.0
gyp ERR! node-gyp -v v5.0.5
gyp ERR! not ok 
